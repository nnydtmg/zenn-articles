---
title: "AWSのルートテーブル伝播について"
emoji: "😎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["aws","vpc","nw"]
published: false
---
みなさんはVPCを構築した際に、ルートテーブルのサービスページに「**ルート伝播**」という文言を見て理解できたでしょうか。

私はできませんでした！

そもそもNWが本業ではなく、サーバ基盤の設計構築しかしていなかったので、馴染みのない言葉である上に設定する場面が割と限られているため、あまり設定する場面がないのですが、たまたま調べなおしたのでまとめておこうかと思います。

なお、前提としてNWの知識も若干含みますが、専門ではないのでぜひ補足をいただけると嬉しいです。

# NWの仕組み
まずはNWがどのようにして疎通できるようになっているかを簡単におさらいしておこうと思います。
要素としては、[OSI参照モデル](https://ja.wikipedia.org/wiki/OSI%E5%8F%82%E7%85%A7%E3%83%A2%E3%83%87%E3%83%AB)でいう、L2/L3/L4をメインに見ていきます。俗にいう「アプセトネデブ」の「トネデ」の部分ですね。

今回は以下の構成をメインに考えていきます。

![](/images/aws-route-propagation/intro-01.png)

***PC-A*** から***PC-B*** に疎通する場合、PC-A側のNWレンジにPC-Bがないので、アドレスが分からないとなってアクセスできません。
ではどのようにアクセスするかというと、その間にあるRouterに対してアドレスを問い合わせます。そのRouterがその宛先をザックリと知っていれば、そのRouterに転送して、さらにその先のRouterが知っていれば転送していくという形で、数珠つなぎに転送されていきます。
なので、***PC-A*** から***PC-B*** であれば、192.168.20.0/24を知っているRouter-4に転送し、そのレンジの中で192.168.20.1があるので疎通ができるようになります。


# ルート伝播とは
さて、本題となるルート伝播についてはオンプレミスとAWSをつなぐより大きな構成で考えていきます。




# まとめ


